const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-ZI0aOOp6.js","assets/three-vendor-DpC2paJV.js","assets/react-vendor-F9Y4d3HK.js","assets/tone-vendor-DAlTRoA6.js"])))=>i.map(i=>d[i]);
var Ne=Object.defineProperty;var Pe=(a,t,s)=>t in a?Ne(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;var T=(a,t,s)=>Pe(a,typeof t!="symbol"?t+"":t,s);import{c as qe,C as Se,u as Ce,j as e,D as Me,a as ze,P as Ee,O as Fe,_ as ye,b as Ie}from"./three-vendor-DpC2paJV.js";import{r as w,R as Le}from"./react-vendor-F9Y4d3HK.js";import{G as X,c as J,s as Ae,O as oe,P as ce,L as De}from"./tone-vendor-DAlTRoA6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const He={};function Re(a,t){let s;try{s=a()}catch{return}return{getItem:n=>{var i;const l=d=>d===null?null:JSON.parse(d,void 0),c=(i=s.getItem(n))!=null?i:null;return c instanceof Promise?c.then(l):l(c)},setItem:(n,i)=>s.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>s.removeItem(n)}}const ee=a=>t=>{try{const s=a(t);return s instanceof Promise?s:{then(r){return ee(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return ee(r)(s)}}}},Ge=(a,t)=>(s,r,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:u=>u,version:0,merge:(u,v)=>({...v,...u}),...t},l=!1;const c=new Set,d=new Set;let o;try{o=i.getStorage()}catch{}if(!o)return a((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...u)},r,n);const y=ee(i.serialize),x=()=>{const u=i.partialize({...r()});let v;const h=y({state:u,version:i.version}).then(k=>o.setItem(i.name,k)).catch(k=>{v=k});if(v)throw v;return h},p=n.setState;n.setState=(u,v)=>{p(u,v),x()};const m=a((...u)=>{s(...u),x()},r,n);let g;const f=()=>{var u;if(!o)return;l=!1,c.forEach(h=>h(r()));const v=((u=i.onRehydrateStorage)==null?void 0:u.call(i,r()))||void 0;return ee(o.getItem.bind(o))(i.name).then(h=>{if(h)return i.deserialize(h)}).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate)return i.migrate(h.state,h.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return h.state}).then(h=>{var k;return g=i.merge(h,(k=r())!=null?k:m),s(g,!0),x()}).then(()=>{v==null||v(g,void 0),l=!0,d.forEach(h=>h(g))}).catch(h=>{v==null||v(void 0,h)})};return n.persist={setOptions:u=>{i={...i,...u},u.getStorage&&(o=u.getStorage())},clearStorage:()=>{o==null||o.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>l,onHydrate:u=>(c.add(u),()=>{c.delete(u)}),onFinishHydration:u=>(d.add(u),()=>{d.delete(u)})},f(),g||m},$e=(a,t)=>(s,r,n)=>{let i={storage:Re(()=>localStorage),partialize:f=>f,version:0,merge:(f,u)=>({...u,...f}),...t},l=!1;const c=new Set,d=new Set;let o=i.storage;if(!o)return a((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...f)},r,n);const y=()=>{const f=i.partialize({...r()});return o.setItem(i.name,{state:f,version:i.version})},x=n.setState;n.setState=(f,u)=>{x(f,u),y()};const p=a((...f)=>{s(...f),y()},r,n);n.getInitialState=()=>p;let m;const g=()=>{var f,u;if(!o)return;l=!1,c.forEach(h=>{var k;return h((k=r())!=null?k:p)});const v=((u=i.onRehydrateStorage)==null?void 0:u.call(i,(f=r())!=null?f:p))||void 0;return ee(o.getItem.bind(o))(i.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate)return[!0,i.migrate(h.state,h.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var k;const[z,G]=h;if(m=i.merge(G,(k=r())!=null?k:p),s(m,!0),z)return y()}).then(()=>{v==null||v(m,void 0),m=r(),l=!0,d.forEach(h=>h(m))}).catch(h=>{v==null||v(void 0,h)})};return n.persist={setOptions:f=>{i={...i,...f},f.storage&&(o=f.storage)},clearStorage:()=>{o==null||o.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>l,onHydrate:f=>(c.add(f),()=>{c.delete(f)}),onFinishHydration:f=>(d.add(f),()=>{d.delete(f)})},i.skipHydration||g(),m||p},Te=(a,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((He?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ge(a,t)):$e(a,t),Oe=Te;class _e{constructor(){T(this,"wakeLock",null);T(this,"isSupported",!1);this.isSupported="wakeLock"in navigator}async requestWakeLock(){if(!this.isSupported)return console.log("Wake Lock API not supported"),!1;try{return this.wakeLock=await navigator.wakeLock.request("screen"),console.log("Wake Lock acquired"),this.wakeLock.addEventListener("release",()=>{console.log("Wake Lock released")}),!0}catch(t){return console.error("Error acquiring wake lock:",t),!1}}async releaseWakeLock(){this.wakeLock&&(await this.wakeLock.release(),this.wakeLock=null)}setupVisibilityHandling(t){document.addEventListener("visibilitychange",async()=>{document.hidden?(this.wakeLock===null&&this.isSupported&&await this.requestWakeLock(),t==null||t(!1)):t==null||t(!0)})}}const xe=new _e;class Be{constructor(){T(this,"masterGain");T(this,"oscillators",new Map);T(this,"panners",new Map);T(this,"gains",new Map);T(this,"isInitialized",!1);T(this,"masterVolume",.5);this.masterGain=new X(this.masterVolume).toDestination()}async initialize(){this.isInitialized=!1}async ensureInitialized(){if(!this.isInitialized)try{J.state!=="running"&&await Ae(),J.state==="suspended"&&await J.resume(),await xe.requestWakeLock(),xe.setupVisibilityHandling(t=>{!t&&J.state==="suspended"&&J.resume().catch(console.error)}),this.isInitialized=!0}catch(t){throw console.error("Failed to start audio context:",t),t}}setMasterVolume(t){this.masterVolume=Math.max(0,Math.min(1,t)),this.masterGain.gain.value=this.masterVolume}getMasterVolume(){return this.masterVolume}async playFrequency(t,s=.5,r=0){await this.ensureInitialized();const n=`freq-${t.id}-${Date.now()}`;let i=t.frequency,l=!1;t.frequency<20&&(l=!0,i=200);const c=new oe({frequency:i,type:"sine"}),d=new X(l?s*.8:s),o=new ce(r);if(l){const y=new De({frequency:t.frequency,type:"sine",min:.3,max:1});y.connect(d.gain),y.start(),c.lfo=y}return c.connect(d),d.connect(o),o.connect(this.masterGain),c.start(),this.oscillators.set(n,c),this.gains.set(n,d),this.panners.set(n,o),n}playBinauralBeat(t,s=.5){const r=`beat-left-${t.id}-${Date.now()}`,n=`beat-right-${t.id}-${Date.now()}`,i=new oe({frequency:t.leftEar,type:"sine"}),l=new X(s),c=new ce(-1);i.connect(l),l.connect(c),c.connect(this.masterGain);const d=new oe({frequency:t.rightEar,type:"sine"}),o=new X(s),y=new ce(1);return d.connect(o),o.connect(y),y.connect(this.masterGain),i.start(),d.start(),this.oscillators.set(r,i),this.oscillators.set(n,d),this.gains.set(r,l),this.gains.set(n,o),this.panners.set(r,c),this.panners.set(n,y),[r,n]}stopFrequency(t){const s=this.oscillators.get(t);s&&(s.lfo&&(s.lfo.stop(),s.lfo.dispose()),s.stop(),s.dispose(),this.oscillators.delete(t));const r=this.gains.get(t);r&&(r.dispose(),this.gains.delete(t));const n=this.panners.get(t);n&&(n.dispose(),this.panners.delete(t))}updateFrequencyVolume(t,s){const r=this.gains.get(t);r&&r.gain.rampTo(s,.1)}updateFrequencyPan(t,s){const r=this.panners.get(t);r&&r.pan.rampTo(s,.1)}fadeFrequency(t,s,r=1){const n=this.gains.get(t);n&&n.gain.rampTo(s,r)}crossfade(t,s,r=2){this.fadeFrequency(t,0,r);const n=this.gains.get(s);if(n){const i=n.gain.value;n.gain.value=0,n.gain.rampTo(i,r)}}stopAll(){this.oscillators.forEach((t,s)=>{t.stop(),t.dispose(),this.stopFrequency(s)}),this.oscillators.clear(),this.gains.clear(),this.panners.clear()}getAnalyser(){try{const t=J.createAnalyser();return t.fftSize=2048,this.masterGain.connect(new X(1).connect(t)),t}catch(t){return console.error("Failed to create analyser:",t),null}}dispose(){this.stopAll(),this.masterGain.dispose()}}const q=[{id:"theta-4.5",name:"Theta 4.5Hz",frequency:4.5,category:"theta",tags:["relaxation","meditation","lucid-dreaming","deep-sleep"],description:"Induces deep relaxation and meditative state, can be used for lucid dreaming.",detailedInfo:"Theta 4.5Hz is associated with deep meditation, REM sleep, and enhanced creativity. The Gateway Project utilized this frequency for Focus 10 states (mind awake, body asleep). Research suggests it can facilitate lucid dreaming and access to subconscious material.",gatewayReference:"Gateway Project - Focus 10",effects:["Deep relaxation","Enhanced creativity","Lucid dreaming facilitation","Subconscious access"],recommendedDuration:90},{id:"theta-6",name:"Theta 6Hz",frequency:6,category:"theta",tags:["relaxation","meditation","healing"],description:"Promotes deep relaxation and healing states.",detailedInfo:"Theta 6Hz is commonly used for deep relaxation and healing. It bridges the gap between conscious and subconscious mind.",effects:["Deep relaxation","Healing states","Subconscious access"],recommendedDuration:60},{id:"theta-7.83",name:"Schumann Resonance 7.83Hz",frequency:7.83,category:"theta",tags:["grounding","natural","balance"],description:"Earth's natural frequency, promotes grounding and balance.",detailedInfo:"The Schumann Resonance is the natural frequency of Earth's electromagnetic field. Exposure to this frequency is believed to promote grounding, balance, and connection to natural rhythms.",gatewayReference:"Natural Earth Frequency",effects:["Grounding","Balance","Natural rhythm synchronization"],recommendedDuration:120},{id:"delta-1.5",name:"Delta 1.5Hz",frequency:1.5,category:"delta",tags:["deep-sleep","healing","regeneration"],description:"Deep sleep and physical regeneration.",detailedInfo:"Delta 1.5Hz is associated with the deepest stages of sleep, where physical healing and regeneration occur. Used in Gateway Project for Focus 12 states.",gatewayReference:"Gateway Project - Focus 12",effects:["Deep sleep","Physical regeneration","Healing","Immune system support"],recommendedDuration:180},{id:"delta-2.5",name:"Delta 2.5Hz",frequency:2.5,category:"delta",tags:["deep-sleep","healing"],description:"Deep restorative sleep and healing.",detailedInfo:"Delta 2.5Hz promotes deep, restorative sleep and supports the body's natural healing processes.",effects:["Deep sleep","Restoration","Healing"],recommendedDuration:180},{id:"delta-3.5",name:"Delta 3.5Hz",frequency:3.5,category:"delta",tags:["sleep","healing"],description:"Deep sleep induction and healing.",detailedInfo:"Delta 3.5Hz helps induce deep sleep and supports healing processes.",effects:["Sleep induction","Healing"],recommendedDuration:120},{id:"alpha-8",name:"Alpha 8Hz",frequency:8,category:"alpha",tags:["relaxation","meditation","calm"],description:"Relaxed awareness and light meditation.",detailedInfo:"Alpha 8Hz is associated with relaxed awareness, light meditation, and a calm, alert state. Often used as a transition between waking and deeper states.",effects:["Relaxed awareness","Calm alertness","Light meditation"],recommendedDuration:60},{id:"alpha-10",name:"Alpha 10Hz",frequency:10,category:"alpha",tags:["focus","relaxation","creativity"],description:"Enhanced focus and creativity with relaxed state.",detailedInfo:'Alpha 10Hz is the classic "relaxed focus" frequency. It promotes a state of relaxed alertness ideal for creative work and focused tasks.',effects:["Relaxed focus","Creativity","Calm alertness"],recommendedDuration:45},{id:"alpha-12",name:"Alpha 12Hz",frequency:12,category:"alpha",tags:["focus","alertness"],description:"Light relaxation with maintained alertness.",detailedInfo:"Alpha 12Hz provides light relaxation while maintaining alertness, useful for stress reduction during work.",effects:["Light relaxation","Maintained alertness","Stress reduction"],recommendedDuration:30},{id:"beta-15",name:"Beta 15Hz",frequency:15,category:"beta",tags:["focus","concentration","alertness"],description:"Enhanced focus and concentration.",detailedInfo:"Beta 15Hz promotes active thinking, focus, and concentration. Useful for studying, work, and tasks requiring mental clarity.",effects:["Enhanced focus","Concentration","Mental clarity"],recommendedDuration:30},{id:"beta-20",name:"Beta 20Hz",frequency:20,category:"beta",tags:["alertness","energy","focus"],description:"High alertness and mental energy.",detailedInfo:"Beta 20Hz promotes high alertness and mental energy, useful for tasks requiring sustained attention.",effects:["High alertness","Mental energy","Sustained attention"],recommendedDuration:20},{id:"gamma-40",name:"Gamma 40Hz",frequency:40,category:"gamma",tags:["cognitive","integration","awareness"],description:"High-level cognitive processing and integration.",detailedInfo:"Gamma 40Hz is associated with high-level cognitive processing, consciousness integration, and binding of sensory information. Used in Gateway Project for expanded consciousness states.",gatewayReference:"Gateway Project - Expanded Consciousness",effects:["Cognitive processing","Consciousness integration","Sensory binding"],recommendedDuration:20},{id:"gateway-focus-10",name:"Gateway Focus 10",frequency:4.5,category:"experimental",tags:["gateway","experimental","focus-10","hemi-sync"],description:"Gateway Project Focus 10: Mind awake, body asleep.",detailedInfo:"Focus 10 is a Gateway Project state where the mind remains awake while the body enters a sleep-like state. This frequency combination was used in Monroe Institute experiments for out-of-body experiences and expanded awareness.",gatewayReference:"Gateway Project - Focus 10 Protocol",effects:["Body relaxation","Mind awareness","OBE facilitation","Expanded awareness"],recommendedDuration:60},{id:"gateway-focus-12",name:"Gateway Focus 12",frequency:1.5,category:"experimental",tags:["gateway","experimental","focus-12","hemi-sync"],description:"Gateway Project Focus 12: Expanded awareness state.",detailedInfo:"Focus 12 represents an expanded awareness state used in Gateway Project protocols. This state allows for enhanced perception and consciousness exploration.",gatewayReference:"Gateway Project - Focus 12 Protocol",effects:["Expanded awareness","Enhanced perception","Consciousness exploration"],recommendedDuration:90},{id:"hemi-sync-4-8",name:"Hemispheric Synchronization 4-8Hz",frequency:6,category:"experimental",tags:["gateway","hemi-sync","synchronization"],description:"Hemispheric synchronization for brain coherence.",detailedInfo:"Hemispheric synchronization frequencies are designed to synchronize left and right brain hemispheres, promoting coherence and enhanced cognitive function. This was a core technique in Gateway Project experiments.",gatewayReference:"Gateway Project - Hemispheric Synchronization",effects:["Brain coherence","Hemispheric synchronization","Enhanced cognition"],recommendedDuration:60}],R=qe()(Oe((a,t)=>({audioEngine:null,isPlaying:!1,currentFrequencies:new Map,masterVolume:.7,currentMix:null,currentVisual:null,showVisuals:!0,showAdvanced:!1,showGatewayMode:!1,showBreathingGuide:!1,currentSequence:null,sequenceStepIndex:0,sequenceTimer:0,playbackTimer:null,playbackTimerRemaining:0,isTimerActive:!1,savedPlaylists:[],savedMixes:[],initializeAudio:async()=>{const{audioEngine:s}=t();if(s){await s.ensureInitialized();return}const r=new Be;r.setMasterVolume(t().masterVolume),a({audioEngine:r})},setPlaying:s=>{a({isPlaying:s})},addFrequency:async(s,r=.5,n=0)=>{const{audioEngine:i,currentFrequencies:l}=t();let c=i;if(!c&&(await t().initializeAudio(),c=t().audioEngine,!c)){console.error("Failed to create audio engine");return}try{await c.ensureInitialized();const d=await c.playFrequency(s,r,n),o=new Map(l);o.set(d,{id:d,volume:r,pan:n}),a({currentFrequencies:o})}catch(d){console.error("Failed to play frequency:",d)}},removeFrequency:s=>{const{audioEngine:r,currentFrequencies:n}=t();if(!r)return;r.stopFrequency(s);const i=new Map(n);i.delete(s),a({currentFrequencies:i})},updateFrequencyVolume:(s,r)=>{const{audioEngine:n,currentFrequencies:i}=t();if(!n)return;n.updateFrequencyVolume(s,r);const l=new Map(i),c=l.get(s);c&&(c.volume=r,l.set(s,c)),a({currentFrequencies:l})},updateFrequencyPan:(s,r)=>{const{audioEngine:n,currentFrequencies:i}=t();if(!n)return;n.updateFrequencyPan(s,r);const l=new Map(i),c=l.get(s);c&&(c.pan=r,l.set(s,c)),a({currentFrequencies:l})},setMasterVolume:s=>{const{audioEngine:r}=t();r&&r.setMasterVolume(s),a({masterVolume:s})},stopAll:()=>{const{audioEngine:s}=t();s&&s.stopAll(),a({currentFrequencies:new Map,isPlaying:!1})},setCurrentVisual:s=>{a({currentVisual:s})},setShowVisuals:s=>{a({showVisuals:s})},setShowAdvanced:s=>{a({showAdvanced:s})},setShowGatewayMode:s=>{a({showGatewayMode:s})},setShowBreathingGuide:s=>{a({showBreathingGuide:s})},setCurrentSequence:s=>{a({currentSequence:s,sequenceStepIndex:0,sequenceTimer:0})},setSequenceStepIndex:s=>{a({sequenceStepIndex:s})},setSequenceTimer:s=>{a({sequenceTimer:s})},setPlaybackTimer:s=>{a({playbackTimer:s,playbackTimerRemaining:s?s*60:0,isTimerActive:s!==null})},setPlaybackTimerRemaining:s=>{a({playbackTimerRemaining:s})},setIsTimerActive:s=>{a({isTimerActive:s})},saveToPlaylist:s=>{const{currentFrequencies:r}=t(),n={id:`playlist-${Date.now()}`,name:s,frequencies:Array.from(r.values()),createdAt:Date.now()},{savedPlaylists:i}=t();return a({savedPlaylists:[...i,n]}),n.id},removePlaylist:s=>{const{savedPlaylists:r}=t();a({savedPlaylists:r.filter(n=>n.id!==s)})},saveMix:(s,r)=>{const{currentFrequencies:n,masterVolume:i}=t(),l={id:`mix-${Date.now()}`,name:s,description:r,frequencies:Array.from(n.entries()).map(([d,o])=>{var x;return{frequencyId:((x=q.find(p=>d.includes(p.id)))==null?void 0:x.id)||"",volume:o.volume,pan:o.pan,enabled:!0}}),masterVolume:i,createdAt:Date.now()},{savedMixes:c}=t();return a({savedMixes:[...c,l]}),l.id},loadMix:async s=>{const{stopAll:r,setMasterVolume:n}=t();r(),n(s.masterVolume);for(const i of s.frequencies){const l=q.find(c=>c.id===i.frequencyId);l&&i.enabled&&await t().addFrequency(l,i.volume,i.pan)}a({isPlaying:!0})},removeMix:s=>{const{savedMixes:r}=t();a({savedMixes:r.filter(n=>n.id!==s)})}}),{name:"frequency-zen-storage",partialize:a=>({masterVolume:a.masterVolume,showAdvanced:a.showAdvanced,currentVisual:a.currentVisual,savedPlaylists:a.savedPlaylists,savedMixes:a.savedMixes})}));function Ve({visualType:a}){const t=w.useRef(null),s=w.useRef(null),{isPlaying:r,masterVolume:n}=R(),i=w.useMemo(()=>{const c=new Float32Array(6e3),d=new Float32Array(2e3*3);for(let o=0;o<2e3;o++){const y=o*3,x=10+Math.random()*20,p=Math.random()*Math.PI*2,m=Math.acos(Math.random()*2-1);c[y]=x*Math.sin(m)*Math.cos(p),c[y+1]=x*Math.sin(m)*Math.sin(p),c[y+2]=x*Math.cos(m);const g=new Se;a==="starlit-void"?g.setHSL(.6,.5,.5+Math.random()*.5):a==="flowing-energy"?g.setHSL(.7,.8,.5):a==="gateway-portal"?g.setHSL(.8,1,.6):g.setHSL(.5,.7,.6),d[y]=g.r,d[y+1]=g.g,d[y+2]=g.b}return{positions:c,colors:d}},[a]);return Ce(l=>{const c=l.clock.getElapsedTime(),d=r?n:0;if(a==="starlit-void"&&s.current&&(s.current.rotation.y=c*.1,s.current.rotation.x=Math.sin(c*.2)*.1),a==="flowing-energy"&&t.current){t.current.rotation.x=c*.2,t.current.rotation.y=c*.3;const o=1+Math.sin(c*2)*.2*d;t.current.scale.set(o,o,o)}if(a==="mandala"&&t.current){t.current.rotation.z=c*.5;const o=1+Math.sin(c*3)*.1*d;t.current.scale.set(o,o,o)}if(a==="gateway-portal"&&t.current){t.current.rotation.y=c*.4;const o=1+Math.sin(c*1.5)*.3*d;t.current.scale.set(o,o,o)}if(a==="breathing-orb"&&t.current){const y=c%4/4,x=y<.5?1+Math.sin(y*Math.PI)*.3:1+Math.sin((1-y)*Math.PI)*.3;t.current.scale.set(x,x,x)}}),a==="starlit-void"?e.jsxs("points",{ref:s,children:[e.jsxs("bufferGeometry",{children:[e.jsx("bufferAttribute",{attach:"attributes-position",count:i.positions.length/3,array:i.positions,itemSize:3}),e.jsx("bufferAttribute",{attach:"attributes-color",count:i.colors.length/3,array:i.colors,itemSize:3})]}),e.jsx("pointsMaterial",{size:.05,vertexColors:!0,transparent:!0,opacity:.8})]}):a==="flowing-energy"?e.jsxs("mesh",{ref:t,children:[e.jsx("torusKnotGeometry",{args:[1,.3,128,32]}),e.jsx("meshStandardMaterial",{color:"#4facfe",emissive:"#00f2fe",emissiveIntensity:.5,metalness:.8,roughness:.2})]}):a==="mandala"?e.jsxs("mesh",{ref:t,children:[e.jsx("torusGeometry",{args:[2,.5,16,100]}),e.jsx("meshStandardMaterial",{color:"#a29bfe",emissive:"#6c5ce7",emissiveIntensity:.6,metalness:.7,roughness:.3})]}):a==="gateway-portal"?e.jsxs("mesh",{ref:t,children:[e.jsx("ringGeometry",{args:[1,3,64]}),e.jsx("meshStandardMaterial",{color:"#f5576c",emissive:"#f093fb",emissiveIntensity:.8,side:Me,transparent:!0,opacity:.9})]}):a==="breathing-orb"?e.jsxs("mesh",{ref:t,children:[e.jsx("sphereGeometry",{args:[1.5,64,64]}),e.jsx("meshStandardMaterial",{color:"#00d4aa",emissive:"#00f2fe",emissiveIntensity:.7,metalness:.6,roughness:.4,transparent:!0,opacity:.8})]}):null}function Ue(){const{showVisuals:a,currentVisual:t}=R(),s=w.useRef(null);return a?e.jsx("div",{ref:s,className:"visual-canvas",children:e.jsxs(ze,{gl:{antialias:!0,alpha:!0},dpr:[1,2],camera:{position:[0,0,5],fov:75},children:[e.jsx(Ee,{makeDefault:!0,position:[0,0,5],fov:75}),e.jsx("ambientLight",{intensity:.5}),e.jsx("pointLight",{position:[10,10,10],intensity:1}),e.jsx(Ve,{visualType:(t==null?void 0:t.type)||"starlit-void"}),e.jsx(Fe,{enableZoom:!1,enablePan:!1,autoRotate:!0,autoRotateSpeed:.5})]})}):null}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var We={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),S=(a,t)=>{const s=w.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,...o},y)=>w.createElement("svg",{ref:y,...We,width:n,height:n,stroke:r,strokeWidth:l?Number(i)*24/Number(n):i,className:["lucide",`lucide-${Ke(a)}`,c].join(" "),...o},[...t.map(([x,p])=>w.createElement(x,p)),...Array.isArray(d)?d:[d]]));return s.displayName=`${a}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=S("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=S("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=S("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=S("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=S("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=S("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=S("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=S("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=S("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=S("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=S("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=S("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=S("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=S("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=S("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=S("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=S("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=S("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=S("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=S("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),it=[{type:"starlit-void",colorScheme:["#6c5ce7","#a29bfe"],intensity:.8,reactivity:.7},{type:"flowing-energy",colorScheme:["#4facfe","#00f2fe"],intensity:.9,reactivity:.8},{type:"mandala",colorScheme:["#a29bfe","#6c5ce7"],intensity:.7,reactivity:.6},{type:"gateway-portal",colorScheme:["#f5576c","#f093fb"],intensity:1,reactivity:.9},{type:"breathing-orb",colorScheme:["#00d4aa","#00f2fe"],intensity:.8,reactivity:.7,breathingEnabled:!0}];function rt(){const{currentVisual:a,setCurrentVisual:t,showVisuals:s,setShowVisuals:r}=R(),n=i=>{t(i)};return e.jsxs("div",{className:"visual-preset-selector",children:[e.jsxs("button",{className:"visual-toggle",onClick:()=>r(!s),"aria-label":s?"Hide visuals":"Show visuals",children:[e.jsx(et,{size:18}),s?"Hide":"Show"," Visuals"]}),s&&e.jsx("div",{className:"preset-buttons",children:it.map((i,l)=>e.jsx("button",{className:`preset-btn ${(a==null?void 0:a.type)===i.type?"active":""}`,onClick:()=>n(i),"aria-label":`Select ${i.type} visual`,children:i.type.replace("-"," ")},l))})]})}function ot(){const{isPlaying:a,masterVolume:t,currentFrequencies:s,setPlaying:r,addFrequency:n,stopAll:i,setMasterVolume:l,setShowAdvanced:c,showAdvanced:d,showGatewayMode:o,setShowGatewayMode:y,showBreathingGuide:x,setShowBreathingGuide:p}=R(),[m,g]=w.useState(""),f=async()=>{if(a)i(),r(!1);else if(m){const h=q.find(k=>k.id===m);h&&(await n(h,.5,0),r(!0))}else{const h=q.find(k=>k.id==="theta-4.5");h&&(await n(h,.5,0),g("theta-4.5"),r(!0))}},u=async h=>{i();const k=q.find(z=>z.id===h);k&&(await n(k,.5,0),g(h),r(!0))},v=[{id:"alpha-10",label:"Focus",icon:"ðŸŽ¯"},{id:"alpha-8",label:"Relax",icon:"ðŸ§˜"},{id:"theta-4.5",label:"Sleep",icon:"ðŸ˜´"},{id:"beta-15",label:"Energy",icon:"âš¡"}];return e.jsxs("div",{className:"main-controls",children:[e.jsxs("div",{className:"controls-panel",children:[e.jsxs("div",{className:"playback-controls",children:[e.jsx("button",{className:"play-button",onClick:f,"aria-label":a?"Pause":"Play",children:a?e.jsx(re,{size:32}):e.jsx(Y,{size:32})}),e.jsxs("div",{className:"volume-control",children:[e.jsx(pe,{size:20}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:t,onChange:h=>l(parseFloat(h.target.value)),className:"volume-slider","aria-label":"Master volume"}),e.jsxs("span",{className:"volume-value",children:[Math.round(t*100),"%"]})]})]}),e.jsx("div",{className:"quick-presets",children:v.map(h=>e.jsxs("button",{className:`quick-preset ${m===h.id?"active":""}`,onClick:()=>u(h.id),children:[e.jsx("span",{className:"preset-icon",children:h.icon}),e.jsx("span",{className:"preset-label",children:h.label})]},h.id))}),e.jsx("div",{className:"frequency-selector",children:e.jsxs("select",{value:m,onChange:h=>g(h.target.value),className:"frequency-select","aria-label":"Select frequency",children:[e.jsx("option",{value:"",children:"Select a frequency..."}),q.map(h=>e.jsxs("option",{value:h.id,children:[h.name," - ",h.description]},h.id))]})}),e.jsxs("div",{className:"control-actions",children:[e.jsxs("button",{className:`action-button ${d?"active":""}`,onClick:()=>c(!d),"aria-label":"Toggle advanced mode",children:[e.jsx(at,{size:18}),"Advanced"]}),e.jsxs("button",{className:`action-button ${o?"active":""}`,onClick:()=>y(!o),"aria-label":"Toggle Gateway mode",children:[e.jsx(he,{size:18}),"Gateway"]}),e.jsxs("button",{className:`action-button ${x?"active":""}`,onClick:()=>p(!x),"aria-label":"Toggle breathing guide",children:[e.jsx(be,{size:18}),"Breathing"]})]}),e.jsx(rt,{})]}),s.size>0&&e.jsx("div",{className:"active-frequencies",children:e.jsxs("p",{className:"active-label",children:["Active: ",s.size," frequency(ies)"]})})]})}function ct(){const[a,t]=w.useState(""),[s,r]=w.useState(null),[n,i]=w.useState(""),{addFrequency:l,setPlaying:c,stopAll:d}=R(),o=Array.from(new Set(q.flatMap(p=>p.tags))),y=q.filter(p=>{const m=p.name.toLowerCase().includes(a.toLowerCase())||p.description.toLowerCase().includes(a.toLowerCase())||p.tags.some(f=>f.toLowerCase().includes(a.toLowerCase())),g=!n||p.tags.includes(n);return m&&g}),x=async p=>{d(),await l(p,.5,0),c(!0)};return e.jsxs("div",{className:"frequency-library",children:[e.jsxs("div",{className:"library-header",children:[e.jsx("h2",{children:"Frequency Library"}),e.jsxs("div",{className:"library-controls",children:[e.jsxs("div",{className:"search-box",children:[e.jsx(st,{size:18}),e.jsx("input",{type:"text",placeholder:"Search frequencies...",value:a,onChange:p=>t(p.target.value),className:"search-input"})]}),e.jsxs("div",{className:"tag-filters",children:[e.jsx("button",{className:`tag-filter ${n===""?"active":""}`,onClick:()=>i(""),children:"All"}),o.slice(0,8).map(p=>e.jsx("button",{className:`tag-filter ${n===p?"active":""}`,onClick:()=>i(p),children:p},p))]})]})]}),e.jsx("div",{className:"frequency-grid",children:y.map(p=>e.jsxs("div",{className:"frequency-card",children:[e.jsxs("div",{className:"frequency-header",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"frequency-name",children:p.name}),e.jsxs("p",{className:"frequency-hz",children:[p.frequency," Hz"]})]}),e.jsxs("div",{className:"frequency-actions",children:[e.jsx("button",{className:"play-frequency-btn",onClick:()=>x(p),"aria-label":`Play ${p.name}`,children:e.jsx(Y,{size:16})}),e.jsx("button",{className:"info-frequency-btn",onClick:()=>r(p),"aria-label":`Info about ${p.name}`,children:e.jsx(Qe,{size:16})})]})]}),e.jsx("p",{className:"frequency-description",children:p.description}),e.jsx("div",{className:"frequency-tags",children:p.tags.map(m=>e.jsx("span",{className:"frequency-tag",children:m},m))}),p.gatewayReference&&e.jsx("div",{className:"gateway-badge",children:"Gateway Project"})]},p.id))}),s&&e.jsx("div",{className:"frequency-modal-overlay",onClick:()=>r(null),children:e.jsxs("div",{className:"frequency-modal",onClick:p=>p.stopPropagation(),children:[e.jsx("button",{className:"modal-close",onClick:()=>r(null),"aria-label":"Close",children:e.jsx(W,{size:24})}),e.jsx("h2",{children:s.name}),e.jsxs("p",{className:"modal-frequency",children:[s.frequency," Hz"]}),e.jsxs("div",{className:"modal-section",children:[e.jsx("h3",{children:"Description"}),e.jsx("p",{children:s.description})]}),s.detailedInfo&&e.jsxs("div",{className:"modal-section",children:[e.jsx("h3",{children:"Detailed Information"}),e.jsx("p",{children:s.detailedInfo})]}),e.jsxs("div",{className:"modal-section",children:[e.jsx("h3",{children:"Effects"}),e.jsx("ul",{className:"effects-list",children:s.effects.map((p,m)=>e.jsx("li",{children:p},m))})]}),s.gatewayReference&&e.jsxs("div",{className:"modal-section",children:[e.jsx("h3",{children:"Gateway Project Reference"}),e.jsx("p",{className:"gateway-ref",children:s.gatewayReference})]}),s.recommendedDuration&&e.jsxs("div",{className:"modal-section",children:[e.jsx("h3",{children:"Recommended Duration"}),e.jsxs("p",{children:[s.recommendedDuration," minutes"]})]}),e.jsxs("button",{className:"modal-play-btn",onClick:async()=>{await x(s),r(null)},children:[e.jsx(Y,{size:20}),"Play Frequency"]})]})})]})}function lt(){const{currentFrequencies:a,isPlaying:t,addFrequency:s,removeFrequency:r,updateFrequencyVolume:n,updateFrequencyPan:i,setPlaying:l,stopAll:c,saveMix:d,loadMix:o,savedMixes:y,removeMix:x}=R(),[p,m]=w.useState(""),[g,f]=w.useState(!1),[u,v]=w.useState(""),[h,k]=w.useState(""),[z,G]=w.useState(!1),Q=async()=>{if(!p)return;const j=q.find(M=>M.id===p);if(j)try{await s(j,.5,0),m(""),t||l(!0)}catch(M){console.error("Error adding frequency:",M)}},P=()=>{l(!t)},b=()=>{u.trim()&&a.size>0&&(d(u.trim(),h.trim()||void 0),v(""),k(""),f(!1),alert(`Mix "${u.trim()}" saved!`))},F=async j=>{try{await o(j),G(!1)}catch(M){console.error("Error loading mix:",M),alert("Failed to load mix. Please try again.")}},L=()=>{if(a.size===0){alert("No mix to export. Add frequencies first.");return}const j={frequencies:Array.from(a.entries()).map(([K,$])=>{const N=q.find(C=>K.includes(C.id));return{frequencyId:(N==null?void 0:N.id)||"",frequencyName:(N==null?void 0:N.name)||"",volume:$.volume,pan:$.pan}}),timestamp:new Date().toISOString()},M=JSON.stringify(j,null,2),E=new Blob([M],{type:"application/json"}),I=URL.createObjectURL(E),_=document.createElement("a");_.href=I,_.download=`frequency-mix-${Date.now()}.json`,_.click(),URL.revokeObjectURL(I)},O=j=>{var I;const M=(I=j.target.files)==null?void 0:I[0];if(!M)return;const E=new FileReader;E.onload=async _=>{var K;try{const $=JSON.parse((K=_.target)==null?void 0:K.result);c();for(const N of $.frequencies){const C=q.find(A=>A.id===N.frequencyId);C&&await s(C,N.volume||.5,N.pan||0)}l(!0),alert("Mix imported successfully!")}catch($){console.error("Error importing mix:",$),alert("Failed to import mix. Please check the file format.")}},E.readAsText(M),j.target.value=""},D=()=>{window.confirm("Clear all frequencies from the mix?")&&(c(),l(!1))};return e.jsxs("div",{className:"advanced-panel",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx(nt,{size:20}),e.jsx("h2",{children:"Advanced Mixing"}),e.jsxs("div",{className:"panel-actions",children:[e.jsxs("button",{className:"action-btn",onClick:P,disabled:a.size===0,"aria-label":t?"Pause":"Play",children:[t?e.jsx(re,{size:18}):e.jsx(Y,{size:18}),t?"Pause":"Play"]}),e.jsxs("button",{className:"action-btn",onClick:()=>f(!0),disabled:a.size===0,children:[e.jsx(ne,{size:18}),"Save Mix"]}),e.jsxs("button",{className:"action-btn",onClick:()=>G(!z),children:[e.jsx(ve,{size:18}),"Load Mix"]}),e.jsxs("button",{className:"action-btn",onClick:L,disabled:a.size===0,children:[e.jsx(Ye,{size:18}),"Export"]}),e.jsxs("label",{className:"action-btn import-btn",children:[e.jsx(ve,{size:18}),"Import",e.jsx("input",{type:"file",accept:".json",onChange:O,style:{display:"none"}})]}),a.size>0&&e.jsxs("button",{className:"action-btn danger",onClick:D,children:[e.jsx(ue,{size:18}),"Clear All"]})]})]}),g&&e.jsx("div",{className:"save-mix-modal",children:e.jsxs("div",{className:"save-mix-content",children:[e.jsx("h3",{children:"Save Mix"}),e.jsx("input",{type:"text",placeholder:"Mix name...",value:u,onChange:j=>v(j.target.value),className:"mix-name-input",autoFocus:!0}),e.jsx("textarea",{placeholder:"Description (optional)...",value:h,onChange:j=>k(j.target.value),className:"mix-description-input",rows:3}),e.jsxs("div",{className:"save-mix-actions",children:[e.jsxs("button",{className:"save-btn",onClick:b,disabled:!u.trim()||a.size===0,children:[e.jsx(ne,{size:16}),"Save"]}),e.jsx("button",{className:"cancel-btn",onClick:()=>{f(!1),v(""),k("")},children:"Cancel"})]})]})}),z&&e.jsxs("div",{className:"saved-mixes-panel",children:[e.jsxs("div",{className:"saved-mixes-header",children:[e.jsx("h3",{children:"Saved Mixes"}),e.jsx("button",{className:"close-btn",onClick:()=>G(!1),children:e.jsx(W,{size:18})})]}),y.length===0?e.jsx("p",{className:"no-mixes",children:"No saved mixes yet. Create a mix and save it!"}):e.jsx("div",{className:"mixes-list",children:y.map(j=>e.jsxs("div",{className:"mix-item-card",children:[e.jsxs("div",{className:"mix-item-info",children:[e.jsx("h4",{children:j.name}),j.description&&e.jsx("p",{children:j.description}),e.jsxs("span",{className:"mix-meta",children:[j.frequencies.length," frequency",j.frequencies.length!==1?"ies":""," â€¢",new Date(j.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"mix-item-actions",children:[e.jsxs("button",{className:"load-mix-btn",onClick:()=>F(j),children:[e.jsx(Y,{size:16}),"Load"]}),e.jsx("button",{className:"delete-mix-btn",onClick:()=>{window.confirm(`Delete "${j.name}"?`)&&x(j.id)},children:e.jsx(ue,{size:16})})]})]},j.id))})]}),e.jsxs("div",{className:"mixing-controls",children:[e.jsxs("div",{className:"add-frequency-section",children:[e.jsx("h3",{children:"Add Frequency to Mix"}),e.jsxs("div",{className:"add-frequency-controls",children:[e.jsxs("select",{value:p,onChange:j=>m(j.target.value),className:"frequency-select",children:[e.jsx("option",{value:"",children:"Select frequency..."}),q.map(j=>e.jsxs("option",{value:j.id,children:[j.name," (",j.frequency," Hz)"]},j.id))]}),e.jsx("button",{className:"add-frequency-btn",onClick:Q,disabled:!p,children:"Add"})]})]}),e.jsxs("div",{className:"active-mix-section",children:[e.jsxs("div",{className:"active-mix-header",children:[e.jsxs("h3",{children:["Active Mix (",a.size,")"]}),a.size>0&&e.jsxs("div",{className:"mix-status",children:[e.jsx("span",{className:`status-indicator ${t?"playing":"paused"}`}),e.jsx("span",{children:t?"Playing":"Paused"})]})]}),a.size===0?e.jsx("p",{className:"no-frequencies",children:"No frequencies active. Add frequencies to create a mix."}):e.jsx("div",{className:"frequency-mix-list",children:Array.from(a.entries()).map(([j,M])=>{const E=q.find(I=>j.includes(I.id)||a.has(j));return e.jsxs("div",{className:"mix-item",children:[e.jsx("div",{className:"mix-item-info",children:e.jsxs("span",{className:"mix-item-name",children:[(E==null?void 0:E.name)||"Frequency"," (",(E==null?void 0:E.frequency)||"?"," Hz)"]})}),e.jsxs("div",{className:"mix-item-controls",children:[e.jsxs("div",{className:"control-group",children:[e.jsx(pe,{size:16}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:M.volume,onChange:I=>n(j,parseFloat(I.target.value)),className:"control-slider","aria-label":"Volume"}),e.jsxs("span",{className:"control-value",children:[Math.round(M.volume*100),"%"]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx(Xe,{size:16}),e.jsx("input",{type:"range",min:"-1",max:"1",step:"0.01",value:M.pan,onChange:I=>i(j,parseFloat(I.target.value)),className:"control-slider","aria-label":"Pan"}),e.jsx("span",{className:"control-value",children:M.pan<0?"L":M.pan>0?"R":"C"})]}),e.jsx("button",{className:"remove-frequency-btn",onClick:()=>r(j),"aria-label":"Remove frequency",children:e.jsx(W,{size:16})})]})]},j)})})]})]})]})}function dt(){const{addFrequency:a,setShowGatewayMode:t,setPlaying:s,stopAll:r}=R(),[n,i]=w.useState(null),l=q.filter(o=>o.category==="experimental"||o.gatewayReference),c=[{id:"focus-10",name:"Focus 10: Mind Awake, Body Asleep",description:"Gateway Project state where the mind remains awake while the body enters a sleep-like state.",frequencies:["gateway-focus-10","theta-4.5"],protocol:"Begin with relaxation, then transition to Focus 10 state. Maintain awareness while body relaxes completely.",reference:"Gateway Project - Focus 10 Protocol"},{id:"focus-12",name:"Focus 12: Expanded Awareness",description:"Expanded awareness state allowing enhanced perception and consciousness exploration.",frequencies:["gateway-focus-12","delta-1.5"],protocol:"After achieving Focus 10, expand awareness beyond physical body. Explore non-physical perception.",reference:"Gateway Project - Focus 12 Protocol"},{id:"hemi-sync",name:"Hemispheric Synchronization",description:"Synchronize left and right brain hemispheres for enhanced coherence and cognition.",frequencies:["hemi-sync-4-8","theta-6"],protocol:"Use binaural beats to entrain both hemispheres to the same frequency, promoting coherence.",reference:"Gateway Project - Hemispheric Synchronization Studies"}],d=async o=>{r();for(const y of o.frequencies){const x=q.find(p=>p.id===y);x&&await a(x,.4,0)}s(!0)};return e.jsxs("div",{className:"gateway-mode",children:[e.jsxs("div",{className:"gateway-header",children:[e.jsxs("div",{className:"gateway-title-section",children:[e.jsx(he,{size:24}),e.jsxs("div",{children:[e.jsx("h2",{children:"Gateway Project Experimental Mode"}),e.jsx("p",{className:"gateway-subtitle",children:"Declassified frequencies and protocols from Monroe Institute research"})]})]}),e.jsx("button",{className:"close-gateway-btn",onClick:()=>t(!1),"aria-label":"Close Gateway mode",children:e.jsx(W,{size:20})})]}),e.jsxs("div",{className:"gateway-content",children:[e.jsx("div",{className:"gateway-info",children:e.jsxs("div",{className:"info-card",children:[e.jsx(Je,{size:20}),e.jsxs("div",{children:[e.jsx("h3",{children:"About the Gateway Project"}),e.jsx("p",{children:"The Gateway Project was a research program conducted by the Monroe Institute exploring consciousness expansion, out-of-body experiences, and remote viewing. Frequencies and protocols from this research have been declassified and are provided here for educational and experimental purposes."}),e.jsxs("a",{href:"https://www.cia.gov/readingroom/docs/CIA-RDP96-00788R001700210016-5.pdf",target:"_blank",rel:"noopener noreferrer",className:"reference-link",children:[e.jsx(Ze,{size:16}),"View Declassified Document"]})]})]})}),e.jsxs("div",{className:"experiments-section",children:[e.jsx("h3",{children:"Experimental Protocols"}),e.jsx("div",{className:"experiments-grid",children:c.map(o=>e.jsxs("div",{className:"experiment-card",children:[e.jsx("h4",{children:o.name}),e.jsx("p",{className:"experiment-description",children:o.description}),e.jsxs("div",{className:"experiment-frequencies",children:[e.jsx("strong",{children:"Frequencies:"}),e.jsx("ul",{children:o.frequencies.map(y=>{const x=q.find(p=>p.id===y);return x?e.jsxs("li",{children:[x.name," (",x.frequency," Hz)"]},y):null})})]}),e.jsxs("div",{className:"experiment-protocol",children:[e.jsx("strong",{children:"Protocol:"}),e.jsx("p",{children:o.protocol})]}),e.jsxs("div",{className:"experiment-actions",children:[e.jsxs("button",{className:"play-experiment-btn",onClick:()=>d(o),children:[e.jsx(he,{size:16}),"Start Experiment"]}),e.jsx("button",{className:"info-experiment-btn",onClick:()=>i(o.id),children:"Learn More"})]})]},o.id))})]}),e.jsxs("div",{className:"gateway-frequencies-section",children:[e.jsx("h3",{children:"Gateway Project Frequencies"}),e.jsx("div",{className:"gateway-freq-grid",children:l.map(o=>e.jsxs("div",{className:"gateway-freq-card",children:[e.jsxs("div",{className:"gateway-freq-header",children:[e.jsx("h4",{children:o.name}),e.jsxs("span",{className:"freq-value",children:[o.frequency," Hz"]})]}),e.jsx("p",{children:o.description}),o.gatewayReference&&e.jsx("div",{className:"gateway-ref",children:o.gatewayReference}),e.jsx("button",{className:"play-gateway-freq-btn",onClick:async()=>{r(),await a(o,.5,0),s(!0)},children:"Play"})]},o.id))})]})]}),n&&e.jsx("div",{className:"experiment-modal-overlay",onClick:()=>i(null),children:e.jsxs("div",{className:"experiment-modal",onClick:o=>o.stopPropagation(),children:[e.jsx("button",{className:"modal-close",onClick:()=>i(null),children:e.jsx(W,{size:24})}),(()=>{const o=c.find(y=>y.id===n);return o?e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:o.name}),e.jsx("p",{className:"experiment-modal-description",children:o.description}),e.jsxs("div",{className:"modal-section",children:[e.jsx("h3",{children:"Protocol"}),e.jsx("p",{children:o.protocol})]}),e.jsxs("div",{className:"modal-section",children:[e.jsx("h3",{children:"Reference"}),e.jsx("p",{children:o.reference})]}),e.jsxs("div",{className:"modal-section",children:[e.jsx("h3",{children:"Safety & Disclaimer"}),e.jsx("p",{children:"These experimental frequencies are provided for educational and research purposes only. Not intended as medical advice. Use with caution and discontinue if you experience any discomfort. Always consult with a healthcare professional before using experimental audio frequencies, especially if you have a history of seizures or neurological conditions."})]})]}):null})()]})})]})}function ut(){const{setShowBreathingGuide:a,setCurrentVisual:t}=R(),[s,r]=w.useState(!1),[n,i]=w.useState("inhale"),[l,c]=w.useState(0),[d,o]=w.useState({inhale:4,hold:4,exhale:4,pause:2,method:"monroe"}),y={monroe:{inhale:4,hold:4,exhale:4,pause:2},box:{inhale:4,hold:4,exhale:4,pause:4},deep:{inhale:6,hold:2,exhale:6,pause:2}};w.useEffect(()=>{if(!s)return;const u={inhale:d.inhale,hold:d.hold,exhale:d.exhale,pause:d.pause};let v="inhale",h=u[v];const k=setInterval(()=>{c(h),i(v),h--,h<0&&(v==="inhale"?(v="hold",h=u.hold):v==="hold"?(v="exhale",h=u.exhale):v==="exhale"?(v="pause",h=u.pause):(v="inhale",h=u.inhale))},1e3);return()=>clearInterval(k)},[s,d]),w.useEffect(()=>{s&&t({type:"breathing-orb",colorScheme:["#00d4aa","#00f2fe"],intensity:.8,reactivity:.7,breathingEnabled:!0,breathingPattern:d})},[s,d,t]);const x=()=>{r(!0)},p=()=>{r(!1),i("inhale"),c(0)},m=u=>{const v=y[u];o({...v,method:u==="monroe"?"monroe":u==="box"?"box":"custom"})},g=()=>{switch(n){case"inhale":return"Inhale";case"hold":return"Hold";case"exhale":return"Exhale";case"pause":return"Pause"}},f=()=>{const v={inhale:d.inhale,hold:d.hold,exhale:d.exhale,pause:d.pause}[n];return(v-l)/v*100};return e.jsxs("div",{className:"breathing-guide",children:[e.jsxs("div",{className:"breathing-header",children:[e.jsxs("div",{className:"breathing-title-section",children:[e.jsx(be,{size:24}),e.jsxs("div",{children:[e.jsx("h2",{children:"Breathing Guide"}),e.jsx("p",{className:"breathing-subtitle",children:"Monroe Institute breathing patterns for meditation"})]})]}),e.jsx("button",{className:"close-breathing-btn",onClick:()=>a(!1),"aria-label":"Close breathing guide",children:e.jsx(W,{size:20})})]}),e.jsxs("div",{className:"breathing-content",children:[e.jsxs("div",{className:"breathing-visualizer",children:[e.jsx("div",{className:`breathing-orb ${n} ${s?"active":""}`,children:e.jsxs("div",{className:"orb-inner",style:{transform:`scale(${n==="inhale"?1.3:n==="exhale"?.7:1})`,transition:`transform ${d[n]}s ease-in-out`},children:[e.jsx("span",{className:"orb-label",children:g()}),s&&e.jsxs("span",{className:"orb-timer",children:[l,"s"]})]})}),e.jsx("div",{className:"breathing-progress",children:e.jsx("div",{className:"progress-bar",style:{width:`${f()}%`,transition:"width 1s linear"}})})]}),e.jsxs("div",{className:"breathing-controls",children:[e.jsxs("div",{className:"control-section",children:[e.jsx("h3",{children:"Presets"}),e.jsxs("div",{className:"preset-buttons",children:[e.jsx("button",{className:`preset-btn ${d.method==="monroe"?"active":""}`,onClick:()=>m("monroe"),children:"Monroe Method"}),e.jsx("button",{className:`preset-btn ${d.method==="box"?"active":""}`,onClick:()=>m("box"),children:"Box Breathing"}),e.jsx("button",{className:`preset-btn ${d.method==="monroe"?"active":""}`,onClick:()=>m("deep"),children:"Deep Breathing"})]})]}),e.jsxs("div",{className:"control-section",children:[e.jsx("h3",{children:"Custom Pattern"}),e.jsxs("div",{className:"pattern-controls",children:[e.jsxs("div",{className:"pattern-input",children:[e.jsx("label",{children:"Inhale (seconds)"}),e.jsx("input",{type:"number",min:"1",max:"20",value:d.inhale,onChange:u=>o({...d,inhale:parseInt(u.target.value)||4}),disabled:s})]}),e.jsxs("div",{className:"pattern-input",children:[e.jsx("label",{children:"Hold (seconds)"}),e.jsx("input",{type:"number",min:"0",max:"20",value:d.hold,onChange:u=>o({...d,hold:parseInt(u.target.value)||4}),disabled:s})]}),e.jsxs("div",{className:"pattern-input",children:[e.jsx("label",{children:"Exhale (seconds)"}),e.jsx("input",{type:"number",min:"1",max:"20",value:d.exhale,onChange:u=>o({...d,exhale:parseInt(u.target.value)||4}),disabled:s})]}),e.jsxs("div",{className:"pattern-input",children:[e.jsx("label",{children:"Pause (seconds)"}),e.jsx("input",{type:"number",min:"0",max:"20",value:d.pause,onChange:u=>o({...d,pause:parseInt(u.target.value)||2}),disabled:s})]})]})]}),e.jsx("div",{className:"control-actions",children:s?e.jsxs("button",{className:"stop-breathing-btn",onClick:p,children:[e.jsx(re,{size:20}),"Stop"]}):e.jsxs("button",{className:"start-breathing-btn",onClick:x,children:[e.jsx(Y,{size:20}),"Start Breathing Guide"]})})]})]})]})}function ht(){const{setCurrentSequence:a}=R(),[t,s]=w.useState(""),[r,n]=w.useState([]),[,i]=w.useState(null),l=[{id:"sleep-routine",name:"Sleep Routine",steps:[{frequencyId:"alpha-10",duration:30,volume:.5,transition:"fade"},{frequencyId:"theta-4.5",duration:90,volume:.5,transition:"crossfade"},{frequencyId:"delta-1.5",duration:180,volume:.4,transition:"fade"}],transitions:["fade","crossfade","fade"],totalDuration:300},{id:"focus-relax",name:"Focus to Relax",steps:[{frequencyId:"beta-15",duration:45,volume:.6,transition:"fade"},{frequencyId:"alpha-10",duration:30,volume:.5,transition:"crossfade"},{frequencyId:"theta-6",duration:60,volume:.4,transition:"fade"}],transitions:["fade","crossfade","fade"],totalDuration:135}],c=()=>{const m={frequencyId:q[0].id,duration:30,volume:.5,transition:"fade"};n([...r,m]),i(r.length)},d=(m,g)=>{const f=[...r];f[m]={...f[m],...g},n(f)},o=m=>{n(r.filter((g,f)=>f!==m))},y=()=>{if(!t||r.length===0)return;const m=r.reduce((u,v)=>u+v.duration,0),g=r.map(u=>u.transition||"fade"),f={id:`seq-${Date.now()}`,name:t,steps:r,transitions:g,totalDuration:m};a(f),alert(`Sequence "${t}" saved!`)},x=m=>{s(m.name),n(m.steps),a(m)},p=()=>r.reduce((m,g)=>m+g.duration,0);return e.jsxs("div",{className:"sequence-builder",children:[e.jsxs("div",{className:"builder-header",children:[e.jsx(de,{size:20}),e.jsx("h2",{children:"Sequence Builder"})]}),e.jsxs("div",{className:"builder-content",children:[e.jsxs("div",{className:"presets-section",children:[e.jsx("h3",{children:"Presets"}),e.jsx("div",{className:"presets-grid",children:l.map(m=>e.jsxs("div",{className:"preset-card",children:[e.jsx("h4",{children:m.name}),e.jsxs("p",{className:"preset-duration",children:[m.totalDuration," minutes"]}),e.jsxs("p",{className:"preset-steps",children:[m.steps.length," steps"]}),e.jsx("button",{className:"load-preset-btn",onClick:()=>x(m),children:"Load"})]},m.id))})]}),e.jsxs("div",{className:"sequence-editor",children:[e.jsxs("div",{className:"editor-header",children:[e.jsx("input",{type:"text",placeholder:"Sequence name...",value:t,onChange:m=>s(m.target.value),className:"sequence-name-input"}),e.jsxs("div",{className:"sequence-duration",children:["Total: ",p()," minutes"]})]}),e.jsx("div",{className:"steps-list",children:r.length===0?e.jsx("p",{className:"no-steps",children:"No steps yet. Add a step to create a sequence."}):r.map((m,g)=>{const f=q.find(u=>u.id===m.frequencyId);return e.jsxs("div",{className:"sequence-step",children:[e.jsx("div",{className:"step-number",children:g+1}),e.jsxs("div",{className:"step-content",children:[e.jsxs("div",{className:"step-controls",children:[e.jsx("select",{value:m.frequencyId,onChange:u=>d(g,{frequencyId:u.target.value}),className:"step-frequency-select",children:q.map(u=>e.jsxs("option",{value:u.id,children:[u.name," (",u.frequency," Hz)"]},u.id))}),e.jsxs("div",{className:"step-duration-control",children:[e.jsx("label",{children:"Duration (min)"}),e.jsx("input",{type:"number",min:"1",max:"480",value:m.duration,onChange:u=>d(g,{duration:parseInt(u.target.value)||30}),className:"step-duration-input"})]}),e.jsxs("div",{className:"step-volume-control",children:[e.jsx("label",{children:"Volume"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:m.volume,onChange:u=>d(g,{volume:parseFloat(u.target.value)}),className:"step-volume-slider"}),e.jsxs("span",{children:[Math.round(m.volume*100),"%"]})]}),e.jsxs("div",{className:"step-transition-control",children:[e.jsx("label",{children:"Transition"}),e.jsxs("select",{value:m.transition||"fade",onChange:u=>d(g,{transition:u.target.value}),className:"step-transition-select",children:[e.jsx("option",{value:"fade",children:"Fade"}),e.jsx("option",{value:"crossfade",children:"Crossfade"}),e.jsx("option",{value:"smooth",children:"Smooth"}),e.jsx("option",{value:"instant",children:"Instant"})]})]}),e.jsx("button",{className:"remove-step-btn",onClick:()=>o(g),"aria-label":"Remove step",children:e.jsx(ue,{size:16})})]}),f&&e.jsxs("div",{className:"step-info",children:[e.jsx("span",{className:"step-frequency-name",children:f.name}),e.jsx("span",{className:"step-frequency-desc",children:f.description})]})]})]},g)})}),e.jsxs("div",{className:"editor-actions",children:[e.jsxs("button",{className:"add-step-btn",onClick:c,children:[e.jsx(tt,{size:18}),"Add Step"]}),e.jsxs("button",{className:"save-sequence-btn",onClick:y,disabled:!t||r.length===0,children:[e.jsx(ne,{size:18}),"Save Sequence"]})]})]})]})]})}function mt(){const{isPlaying:a,masterVolume:t,currentFrequencies:s,playbackTimer:r,playbackTimerRemaining:n,isTimerActive:i,setPlaying:l,stopAll:c,setMasterVolume:d,setPlaybackTimer:o,setPlaybackTimerRemaining:y,setIsTimerActive:x,saveToPlaylist:p}=R(),[m,g]=w.useState(!1),[f,u]=w.useState(!1),[v,h]=w.useState("");if(s.size===0)return null;w.useEffect(()=>{if(!i||n<=0){n===0&&i&&(c(),l(!1),x(!1),o(null));return}const b=setInterval(()=>{y(n-1)},1e3);return()=>clearInterval(b)},[i,n,c,l,x,o,y]);const k=()=>{a&&(c(),l(!1))},z=b=>{o(b),g(!1)},G=()=>{v.trim()&&(p(v.trim()),h(""),u(!1),alert(`Saved "${v.trim()}" to playlists!`))},Q=()=>{if(s.size===0)return"No frequency";const b=Array.from(s.keys())[0],F=q.find(L=>b.includes(L.id));return F?s.size>1?`${F.name} + ${s.size-1} more`:F.name:s.size>1?`${s.size} frequencies`:"Frequency"},P=b=>{const F=Math.floor(b/60),L=b%60;return`${F}:${L.toString().padStart(2,"0")}`};return e.jsx("div",{className:"playback-bar",children:e.jsxs("div",{className:"playback-bar-content",children:[e.jsxs("div",{className:"playback-info",children:[e.jsxs("div",{className:"playback-status",children:[e.jsx("div",{className:"status-indicator"}),e.jsx("span",{className:"frequency-name",children:Q()})]}),s.size>1&&e.jsxs("span",{className:"mix-badge",children:[s.size," frequencies"]}),i&&n>0&&e.jsxs("div",{className:"timer-display",children:[e.jsx(de,{size:14}),e.jsx("span",{children:P(n)})]})]}),e.jsxs("div",{className:"playback-controls",children:[e.jsx("button",{className:"playback-play-pause",onClick:k,"aria-label":a?"Pause":"Play",children:e.jsx(re,{size:20})}),e.jsxs("div",{className:"playback-volume",children:[e.jsx(pe,{size:16}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:t,onChange:b=>d(parseFloat(b.target.value)),className:"playback-volume-slider","aria-label":"Volume"}),e.jsxs("span",{className:"playback-volume-value",children:[Math.round(t*100),"%"]})]}),e.jsxs("div",{className:"playback-timer-control",children:[e.jsxs("button",{className:"playback-timer-btn",onClick:()=>g(!m),"aria-label":"Set timer",children:[e.jsx(de,{size:16}),r?`${r}m`:"Timer"]}),m&&e.jsxs("div",{className:"timer-menu",children:[e.jsx("button",{onClick:()=>z(15),children:"15 min"}),e.jsx("button",{onClick:()=>z(30),children:"30 min"}),e.jsx("button",{onClick:()=>z(60),children:"1 hour"}),e.jsx("button",{onClick:()=>z(120),children:"2 hours"}),e.jsx("button",{onClick:()=>z(180),children:"3 hours"}),e.jsx("button",{onClick:()=>{o(null),x(!1),g(!1)},children:"Off"})]})]}),e.jsxs("div",{className:"playback-save-control",children:[e.jsxs("button",{className:"playback-save-btn",onClick:()=>u(!f),"aria-label":"Save to playlist",children:[e.jsx(ne,{size:16}),"Save"]}),f&&e.jsxs("div",{className:"save-menu",children:[e.jsx("input",{type:"text",placeholder:"Playlist name...",value:v,onChange:b=>h(b.target.value),onKeyDown:b=>{b.key==="Enter"?G():b.key==="Escape"&&u(!1)},className:"playlist-name-input",autoFocus:!0}),e.jsx("button",{className:"save-confirm-btn",onClick:G,disabled:!v.trim(),children:"Save"})]})]}),e.jsx("button",{className:"playback-stop",onClick:()=>{c(),l(!1),o(null),x(!1)},"aria-label":"Stop",children:e.jsx(W,{size:18})})]})]})})}class U extends w.Component{constructor(){super(...arguments);T(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("Uncaught error:",s,r)}render(){var s;return this.state.hasError?e.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-primary)",background:"var(--color-bg-primary)",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx("h2",{children:"Something went wrong"}),e.jsx("p",{style:{marginTop:"1rem",color:"var(--color-text-secondary)"},children:((s=this.state.error)==null?void 0:s.message)||"An unexpected error occurred"}),e.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.reload()},style:{marginTop:"1rem",padding:"0.5rem 1rem",background:"var(--color-accent)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}function pt(){w.useEffect(()=>{let a=0;const t=l=>{const c=Date.now();c-a<=300&&l.preventDefault(),a=c};if(document.addEventListener("touchend",t,{passive:!1}),!document.querySelector('meta[name="viewport"]')){const l=document.createElement("meta");l.name="viewport",l.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover",document.head.appendChild(l)}let r=0;const n=l=>{r=l.touches[0].clientY},i=l=>{l.touches[0].clientY-r>0&&window.scrollY===0&&r<50&&l.preventDefault()};return document.addEventListener("touchstart",n,{passive:!0}),document.addEventListener("touchmove",i,{passive:!1}),()=>{document.removeEventListener("touchend",t),document.removeEventListener("touchstart",n),document.removeEventListener("touchmove",i)}},[])}function ft(){const{showAdvanced:a,showGatewayMode:t,showBreathingGuide:s,currentVisual:r,setCurrentVisual:n}=R();return pt(),w.useEffect(()=>{r||n({type:"starlit-void",colorScheme:["#6c5ce7","#a29bfe"],intensity:.8,reactivity:.7})},[r,n]),e.jsx(U,{children:e.jsxs("div",{className:"app",children:[e.jsx(Ue,{}),e.jsxs("div",{className:"app-content",children:[e.jsxs("header",{className:"app-header",children:[e.jsx("h1",{className:"app-title",children:"Frequency Zen"}),e.jsx("p",{className:"app-subtitle",children:"Binaural Beats & Gateway Frequencies"})]}),e.jsx(U,{children:e.jsx(ot,{})}),e.jsx(U,{children:e.jsx(ct,{})}),a&&e.jsxs(U,{children:[e.jsx(lt,{}),e.jsx(ht,{})]}),t&&e.jsx(U,{children:e.jsx(dt,{})}),s&&e.jsx(U,{children:e.jsx(ut,{})}),e.jsx("footer",{className:"app-footer",children:e.jsx("p",{className:"disclaimer",children:"This app is for meditation and relaxation purposes only. Not intended as medical advice. Experimental frequencies are provided for educational and research purposes."})})]}),e.jsx(U,{children:e.jsx(mt,{})})]})})}/*! Capacitor: https://capacitorjs.com/ - MIT License */const yt=a=>{const t=new Map;t.set("web",{name:"web"});const s=a.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},r=(i,l)=>{s.platforms.set(i,l)},n=i=>{s.platforms.has(i)&&(s.currentPlatform=s.platforms.get(i))};return s.addPlatform=r,s.setPlatform=n,s},xt=a=>a.CapacitorPlatforms=yt(a),we=xt(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});we.addPlatform;we.setPlatform;var Z;(function(a){a.Unimplemented="UNIMPLEMENTED",a.Unavailable="UNAVAILABLE"})(Z||(Z={}));class le extends Error{constructor(t,s,r){super(t),this.message=t,this.code=s,this.data=r}}const vt=a=>{var t,s;return a!=null&&a.androidBridge?"android":!((s=(t=a==null?void 0:a.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},gt=a=>{var t,s,r,n,i;const l=a.CapacitorCustomPlatform||null,c=a.Capacitor||{},d=c.Plugins=c.Plugins||{},o=a.CapacitorPlatforms,y=()=>l!==null?l.name:vt(a),x=((t=o==null?void 0:o.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||y,p=()=>x()!=="web",m=((s=o==null?void 0:o.currentPlatform)===null||s===void 0?void 0:s.isNativePlatform)||p,g=P=>{const b=z.get(P);return!!(b!=null&&b.platforms.has(x())||v(P))},f=((r=o==null?void 0:o.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||g,u=P=>{var b;return(b=c.PluginHeaders)===null||b===void 0?void 0:b.find(F=>F.name===P)},v=((n=o==null?void 0:o.currentPlatform)===null||n===void 0?void 0:n.getPluginHeader)||u,h=P=>a.console.error(P),k=(P,b,F)=>Promise.reject(`${F} does not have an implementation of "${b}".`),z=new Map,G=(P,b={})=>{const F=z.get(P);if(F)return console.warn(`Capacitor plugin "${P}" already registered. Cannot register plugins twice.`),F.proxy;const L=x(),O=v(P);let D;const j=async()=>(!D&&L in b?D=typeof b[L]=="function"?D=await b[L]():D=b[L]:l!==null&&!D&&"web"in b&&(D=typeof b.web=="function"?D=await b.web():D=b.web),D),M=(N,C)=>{var A,B;if(O){const V=O==null?void 0:O.methods.find(H=>C===H.name);if(V)return V.rtype==="promise"?H=>c.nativePromise(P,C.toString(),H):(H,se)=>c.nativeCallback(P,C.toString(),H,se);if(N)return(A=N[C])===null||A===void 0?void 0:A.bind(N)}else{if(N)return(B=N[C])===null||B===void 0?void 0:B.bind(N);throw new le(`"${P}" plugin is not implemented on ${L}`,Z.Unimplemented)}},E=N=>{let C;const A=(...B)=>{const V=j().then(H=>{const se=M(H,N);if(se){const ae=se(...B);return C=ae==null?void 0:ae.remove,ae}else throw new le(`"${P}.${N}()" is not implemented on ${L}`,Z.Unimplemented)});return N==="addListener"&&(V.remove=async()=>C()),V};return A.toString=()=>`${N.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:N,writable:!1,configurable:!1}),A},I=E("addListener"),_=E("removeListener"),K=(N,C)=>{const A=I({eventName:N},C),B=async()=>{const H=await A;_({eventName:N,callbackId:H},C)},V=new Promise(H=>A.then(()=>H({remove:B})));return V.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await B()},V},$=new Proxy({},{get(N,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return O?K:I;case"removeListener":return _;default:return E(C)}}});return d[P]=$,z.set(P,{name:P,proxy:$,platforms:new Set([...Object.keys(b),...O?[L]:[]])}),$},Q=((i=o==null?void 0:o.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||G;return c.convertFileSrc||(c.convertFileSrc=P=>P),c.getPlatform=x,c.handleError=h,c.isNativePlatform=m,c.isPluginAvailable=f,c.pluginMethodNoop=k,c.registerPlugin=Q,c.Exception=le,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},jt=a=>a.Capacitor=gt(a),te=jt(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),fe=te.registerPlugin;te.Plugins;class ke{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,s){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(s);const n=this.windowListeners[t];n&&!n.registered&&this.addWindowListener(n);const i=async()=>this.removeListener(t,s),l=Promise.resolve({remove:i});return Object.defineProperty(l,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()}}),l}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,s){const r=this.listeners[t];r&&r.forEach(n=>n(s))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,s){this.windowListeners[s]={registered:!1,windowEventName:t,pluginEventName:s,handler:r=>{this.notifyListeners(s,r)}}}unimplemented(t="not implemented"){return new te.Exception(t,Z.Unimplemented)}unavailable(t="not available"){return new te.Exception(t,Z.Unavailable)}async removeListener(t,s){const r=this.listeners[t];if(!r)return;const n=r.indexOf(s);this.listeners[t].splice(n,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const ge=a=>encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),je=a=>a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class bt extends ke{async getCookies(){const t=document.cookie,s={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[n,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=je(n).trim(),i=je(i).trim(),s[n]=i}),s}async setCookie(t){try{const s=ge(t.key),r=ge(t.value),n=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),l=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${s}=${r||""}${n}; path=${i}; ${l};`}catch(s){return Promise.reject(s)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const s of t)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}fe("CapacitorCookies",{web:()=>new bt});const wt=async a=>new Promise((t,s)=>{const r=new FileReader;r.onload=()=>{const n=r.result;t(n.indexOf(",")>=0?n.split(",")[1]:n)},r.onerror=n=>s(n),r.readAsDataURL(a)}),kt=(a={})=>{const t=Object.keys(a);return Object.keys(a).map(n=>n.toLocaleLowerCase()).reduce((n,i,l)=>(n[i]=a[t[l]],n),{})},Nt=(a,t=!0)=>a?Object.entries(a).reduce((r,n)=>{const[i,l]=n;let c,d;return Array.isArray(l)?(d="",l.forEach(o=>{c=t?encodeURIComponent(o):o,d+=`${i}=${c}&`}),d.slice(0,-1)):(c=t?encodeURIComponent(l):l,d=`${i}=${c}`),`${r}&${d}`},"").substr(1):null,Pt=(a,t={})=>{const s=Object.assign({method:a.method||"GET",headers:a.headers},t),n=kt(a.headers)["content-type"]||"";if(typeof a.data=="string")s.body=a.data;else if(n.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[l,c]of Object.entries(a.data||{}))i.set(l,c);s.body=i.toString()}else if(n.includes("multipart/form-data")||a.data instanceof FormData){const i=new FormData;if(a.data instanceof FormData)a.data.forEach((c,d)=>{i.append(d,c)});else for(const c of Object.keys(a.data))i.append(c,a.data[c]);s.body=i;const l=new Headers(s.headers);l.delete("content-type"),s.headers=l}else(n.includes("application/json")||typeof a.data=="object")&&(s.body=JSON.stringify(a.data));return s};class qt extends ke{async request(t){const s=Pt(t,t.webFetchExtra),r=Nt(t.params,t.shouldEncodeUrlParams),n=r?`${t.url}?${r}`:t.url,i=await fetch(n,s),l=i.headers.get("content-type")||"";let{responseType:c="text"}=i.ok?t:{};l.includes("application/json")&&(c="json");let d,o;switch(c){case"arraybuffer":case"blob":o=await i.blob(),d=await wt(o);break;case"json":d=await i.json();break;case"document":case"text":default:d=await i.text()}const y={};return i.headers.forEach((x,p)=>{y[p]=x}),{data:d,headers:y,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}fe("CapacitorHttp",{web:()=>new qt});var ie;(function(a){a.Dark="DARK",a.Light="LIGHT",a.Default="DEFAULT"})(ie||(ie={}));var me;(function(a){a.None="NONE",a.Slide="SLIDE",a.Fade="FADE"})(me||(me={}));const St=fe("StatusBar"),Ct=Object.freeze(Object.defineProperty({__proto__:null,get Animation(){return me},StatusBar:St,get Style(){return ie}},Symbol.toStringTag,{value:"Module"}));te.isNativePlatform()&&(ye(async()=>{const{App:a}=await import("./index-ZI0aOOp6.js");return{App:a}},__vite__mapDeps([0,1,2,3])).then(({App:a})=>{a.addListener("appStateChange",({isActive:t})=>{console.log("App state changed. Is active?",t)})}),ye(async()=>{const{StatusBar:a}=await Promise.resolve().then(()=>Ct);return{StatusBar:a}},void 0).then(({StatusBar:a})=>{a.setStyle({style:ie.Dark}),a.setBackgroundColor({color:"#0a0a0f"})}));Ie.createRoot(document.getElementById("root")).render(e.jsx(Le.StrictMode,{children:e.jsx(ft,{})}));export{ke as W,fe as r};
